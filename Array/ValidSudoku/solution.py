def solution(board):
    seen = set()
    for i in range(9):
        for j in range(9):
            if board[i][j] == '.':
                continue
            
            row_entry = board[i][j] + " in row " + str(i)
            col_entry = board[i][j] + " in col " + str(j)
            square_entry = board[i][j] + " in square " + str(i//3) + "-" + str(j//3)
            
            if row_entry in seen or col_entry in seen or square_entry in seen:
                return False
            else:
                seen.add(row_entry)
                seen.add(col_entry)
                seen.add(square_entry)
    
    return True


if __name__ == "__main__":
    print(solution(
        [["5","3",".",".","7",".",".",".","."]
        ,["6",".",".","1","9","5",".",".","."]
        ,[".","9","8",".",".",".",".","6","."]
        ,["8",".",".",".","6",".",".",".","3"]
        ,["4",".",".","8",".","3",".",".","1"]
        ,["7",".",".",".","2",".",".",".","6"]
        ,[".","6",".",".",".",".","2","8","."]
        ,[".",".",".","4","1","9",".",".","5"]
        ,[".",".",".",".","8",".",".","7","9"]]
    ))                                              # true
    
    print(solution(
        [["8","3",".",".","7",".",".",".","."]
        ,["6",".",".","1","9","5",".",".","."]
        ,[".","9","8",".",".",".",".","6","."]
        ,["8",".",".",".","6",".",".",".","3"]
        ,["4",".",".","8",".","3",".",".","1"]
        ,["7",".",".",".","2",".",".",".","6"]
        ,[".","6",".",".",".",".","2","8","."]
        ,[".",".",".","4","1","9",".",".","5"]
        ,[".",".",".",".","8",".",".","7","9"]]
    ))                                              # false
